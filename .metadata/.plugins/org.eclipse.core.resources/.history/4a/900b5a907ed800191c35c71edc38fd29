package P1;
// File: ReadWeb.java
// Test reading webpage directly

import java.io.*;
import java.net.URL;
import org.json.*;

import P1.Drink;

public class ReadWeb {

 public static void main(String args[]) throws java.io.IOException
 {   URL TheFile=null;
     try {	// Set up a URL to the file
       TheFile=new URL(
//        "https://aa.usno.navy.mil/cgi-bin/aa_rstablew.pl?ID=AA&year=2008&task=0&state=PA&place=Kutztown"
    		   "https://thecocktaildb.com/api/json/v1/1/search.php?s=irish"
    		   );
     }
     catch (Exception e) {
       System.err.println("URL Setup failed...");
       e.printStackTrace();
     }
     InputStream s=null;
     try { // Hook up to the file on the server
       s=TheFile.openStream();
     }
     catch (Exception e)  {
       e.printStackTrace();
       System.err.println("!! Stream open failed !!");
     }
     BufferedReader Inf=null;
     try {
       Inf=new BufferedReader(new InputStreamReader(s));
     }
     catch (Exception e){
       e.printStackTrace();
     }
     int next;
     next=Inf.read();
     String menu = "";
     
     while (next>=0) {
       System.out.print((char)next);
       menu += (char)next;
       next=Inf.read();
     }
     System.out.println();
     System.out.println("Hey");
     System.out.print(menu);
     JSONArray drinkList = null;
     JSONObject JSONMenu = null;
     try {
         JSONMenu = new JSONObject(menu);
         drinkList = JSONMenu.getJSONArray("drinks");
    }catch (Exception err){
         err.printStackTrace();
    }
     int numDrinks = drinkList.length();
     System.out.println();
     System.out.println("num drinks : " + numDrinks);
     JSONArray drinkAttributes = null;
     for(int i = 0; i < numDrinks; i++) {
//    	 drinkAttributes = drinkList.getJSONArray(i);
//    	 System.out.println("drinkAttributes");
     }
     
//     drinkList.get
//     JSONObject newMenu = null;
//     System.out.println();
//	 System.out.println(JSONMenu.names());

	 System.out.println(JSONMenu);
//    	 menuArry = new JSONArray((JSONArray)JSONMenu.get("drinks"));
//		newMenu = new JSONObject(JSONMenu.get("drinks"));
     System.out.println();
//     System.out.println(newMenu.length());
     
 }

} 